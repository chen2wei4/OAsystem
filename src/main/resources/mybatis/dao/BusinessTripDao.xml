<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.woniuxy.oasystem.dao.BusinessTripDao">
	<insert id="addBusinessTrip">
		insert into business_trip (trip_id, emp_id, trip_date, trip_time, trip_location, trip_reason) 
		values (#{tripId}, #{empId}, #{tripDate}, #{tripTime}, #{tripLocation}, #{tripReason})
	</insert>
	
	<update id="deleteBusinessTrip">
		update business_trip set flag=0 where trip_id=#{tripId}
	</update>
	
	<select id="displayBusinessTrip" resultType="businessTrip">
		select trip_id, business_trip.emp_id, emp_name, trip_date, trip_time, trip_location, trip_reason from business_trip inner join emp on business_trip.emp_id=emp.emp_id where business_trip.flag=1
	</select>
</mapper>